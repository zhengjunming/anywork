webpackJsonp([3],{115:function(t,e,n){t.exports=n.p+"static/img/draw@2x.bcccb55.png"},16:function(t,e,n){"use strict";function o(t,e){var n={};return a()(t).forEach(function(o){n[o]=e(t[o],o)}),n}var s=n(72),a=n.n(s);e.a=function(t,e){var n={};return o(e,function(o,s){n[s]={},e[s].forEach(function(e){var o=t+":"+e;n[s][e]=o})}),n}},160:function(t,e,n){function o(t){n(668)}var s=n(1)(n(347),n(843),o,"data-v-370d5ca1",null);t.exports=s.exports},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),s=(n.n(o),n(18)),a=n(804),i=n.n(a),r=n(370),c=n(88),u=n.n(c),l=n(633);n.n(l);s.default.use(u.a),new s.default({el:"#app",store:r.a,template:"<App/>",components:{App:i.a}})},346:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(806),s=n.n(o),a=n(807),i=n.n(a),r=n(805),c=n.n(r);e.default={name:"app",data:function(){return{login:!0,register:!1}},components:{Login:s.a,Register:i.a,forgetpassword:c.a},methods:{toggleLogin:function(t){this.login=!0,this.register=!1},toggleRegister:function(t){t?(this.login=!1,this.register=!0):(this.login=!1,this.register=!1)},togglePassword:function(){this.login=!1,this.register=!1}}}},347:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["content","info"],data:function(){return{tipShow:!1}},computed:{tipInfo:function(){return""===this.info?this.content:this.info}},methods:{handleShowPopper:function(){this.tipShow=!0},handleClosePopper:function(){""!==this.info?this.tipShow=!0:this.tipShow=!1}}}},348:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n.n(o),a=n(2),i=n(93),r=n(6),c=n(160),u=n.n(c);e.default={data:function(){return{email:"",password:"",loadStatu:!1,barcode:"",admin:!1,barcodeURL:r.a+"utils/valcode",refresh:(new Date).valueOf(),emailInfo:"",passwordInfo:"",barcodeInfo:""}},components:{Mytip:u.a},computed:s()({},n.i(a.a)({user:function(t){return t.user}})),methods:s()({},n.i(a.b)(i.a.actions),{toRegister:function(){this.$emit("to-password")},confirm:function(){var t=this,e=this;this.forgetPassword({email:this.email}).then(function(t){e.$Notice.success({title:"发送成功",desc:t.info?t.info:""}),e.$emit("to-password")}).catch(function(e){t.$Notice.error({title:"提交失败，可能是邮箱错误"})})}}),watch:{email:function(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;""===t?this.emailInfo="请输入邮箱":e.test(t)?this.emailInfo="":this.emailInfo="邮箱格式不对"}}}},349:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n.n(o),a=n(2),i=n(93),r=n(6),c=n(160),u=n.n(c);e.default={data:function(){return{email:"",password:"",loadStatu:!1,barcode:"",admin:!1,barcodeURL:r.a+"utils/valcode",refresh:(new Date).valueOf(),emailInfo:"",passwordInfo:"",barcodeInfo:""}},components:{Mytip:u.a},computed:s()({},n.i(a.a)({user:function(t){return t.user}})),methods:s()({},n.i(a.b)(i.a.actions),{toLogin:function(){var t=this;this.check()&&(this.admin?(this.loadStatu=!0,this.login({studentId:this.email,password:this.password,valcode:this.barcode}).then(function(e){e.state&&e.mark?t.onAdminSuccess(e.info):e.state?e.mark||t.onError("您没有权限登陆教师端!"):t.onError(e.info)}).catch(function(e){t.onError(e)})):(this.loadStatu=!0,this.login({studentId:this.email,password:this.password,valcode:this.barcode}).then(function(e){e.state?t.onSuccess(e.info):t.onError(e.info)}).catch(function(e){t.onError(e)})))},onSuccess:function(t){this.$Message.success(t),window.location.href="./home.html#/homepage"},onAdminSuccess:function(t){this.$Message.success(t),window.location.href="./admin.html"},onError:function(t){this.loadStatu=!1,this.$Message.error(t)},toRegister:function(){this.$emit("to-register",1)},check:function(){return""!=this.email.trim()&&""!=this.password.trim()&&""!=this.barcode.trim()||(this.$Message.error("请填写好所有的信息"),!1)},refreshBarcode:function(){this.refresh=(new Date).valueOf()},forgetPasswork:function(){this.$emit("to-register",0)}}),watch:{barcode:function(t){t.length>0?this.barcodeInfo="":this.barcodeInfo="请填写验证码"}}}},350:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n.n(o),a=n(2),i=n(93),r=n(6),c=n(160),u=n.n(c);e.default={data:function(){return{userName:"",email:"",phone:"",password:"",rePassword:"",loadStatu:!1,barcode:"",mark:!1,barcodeURL:r.a+"utils/valcode",refresh:(new Date).valueOf(),nameInfo:"",emailInfo:"",phoneInfo:"",passwordInfo:"",rePasswordInfo:"",barcodeInfo:""}},components:{Mytip:u.a},computed:s()({},n.i(a.a)({user:function(t){return t.user}})),methods:s()({},n.i(a.b)(i.a.actions),{toRegister:function(){var t=this;this.check()&&(this.loadStatu=!0,this.register({studentId:this.userName,email:this.email,phone:this.phone,password:this.password,valcode:this.barcode,mark:Number(this.mark)}).then(function(e){e.state?(t.onSuccess(e.info),t.toLogin()):t.onError(e.info)}).catch(function(e){t.onError(e)}))},onSuccess:function(t){this.$Message.success(t)},onError:function(t){this.loadStatu=!1,this.$Message.error(t)},toLogin:function(){this.$emit("to-login")},check:function(){return""!=this.userName.trim()&&""!=this.email.trim()&&""!=this.phone.trim()&&""!=this.password.trim()&&""!=this.barcode.trim()&&this.password.trim()===this.rePassword.trim()||(this.$Message.error("请填写好所有的信息"),!1)},refreshBarcode:function(){this.refresh=(new Date).valueOf()}}),watch:{userName:function(t){""===t.trim()?this.nameInfo="请输入用户名":this.nameInfo=""},email:function(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;""===t?this.emailInfo="请输入邮箱":e.test(t)?this.emailInfo="":this.emailInfo="邮箱格式不对"},password:function(t){""===t&&(this.passwordInfo="请输入密码")},rePassword:function(t){""===t?this.rePasswordInfo="请确定密码":this.rePassword!==this.password?this.rePasswordInfo="确认密码不匹配":this.rePasswordInfo=""},barcode:function(t){t.length>0?this.barcodeInfo="":this.barcodeInfo="请填写验证码"}}}},370:function(t,e,n){"use strict";var o=n(18),s=n(2),a=n(371);o.default.use(s.c),e.a=new s.c.Store({modules:{user:a.a}})},371:function(t,e,n){"use strict";var o,s=n(32),a=n.n(s),i=n(34),r=n.n(i),c=n(33),u=n.n(c),l=n(93),d=n(6),f={userName:"",email:"",phone:"",mark:0,userId:void 0},p=(o={},r()(o,l.a.actions.updateInfo,function(t,e){return new u.a(function(n,o){t.commit(l.a.mutations.setInfo,e),n("success")})}),r()(o,l.a.actions.login,function(t,e){return new u.a(function(o,s){n.i(d.b)({method:"POST",url:"user/login",data:e}).then(function(e){"1"===e.data.state.toString()?(t.commit(l.a.mutations.setInfo,e.data.data),o({state:!0,info:e.data.stateInfo,mark:e.data.data.mark})):o({state:!1,info:e.data.stateInfo})}).catch(function(t){s(t)})})}),r()(o,l.a.actions.forgetPassword,function(t,e){return new u.a(function(t,o){n.i(d.b)({method:"POST",url:"user/forget",data:e}).then(function(e){t(1==e.data.state?{state:!0}:{state:!1,info:e.data.stateInfo})}).catch(function(t){o(t)})})}),r()(o,l.a.actions.register,function(t,e){return new u.a(function(t,o){n.i(d.b)({method:"POST",url:"user/register",data:e}).then(function(e){t("1"===e.data.state.toString()?{state:!0,info:e.data.stateInfo}:{state:!1,info:e.data.stateInfo})}).catch(function(t){o(t)})})}),o),h=r()({},l.a.mutations.setInfo,function(t,e){a()(t,e)});e.a={state:f,actions:p,mutations:h}},6:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var o=n(56),s=n.n(o),a="https://qgstudio.org/anywork/",i=s.a.create({baseURL:a})},633:function(t,e){},650:function(t,e){},668:function(t,e){},698:function(t,e){},71:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAAXNSR0IArs4c6QAAAxRJREFUSA3tVjFMVEEQffP5h8ZwEFopbKSxMzGxAoxSe3YUiqKGRBBJTEwsrU1MTPAEE6MS0YIOrNUEqEysbc7GAlsiEKNw3DpvvTHn5e/eJ3KdP7ns3u6892Zm589+Qc5n7Inrr+7gqXMYikFEsJJ2Ynz+hlRidraX2CQ2Xim7wd0dfKC4AFsQ3CukONmTosgf51zjHm1oe2nGDcQ4bU8x8YeRkxAOvRrd+0MJrj2bki9ZqOtld+xnDc/VibPq0EahE6dbZSLNImpcY9pNfOEWhkXENe43zumYc2549BHe0gmPBc402jTPo0dwsezOWdoZeUzciGnjbevHQQ7byxqjDqCGEYKc4EEo7VmkPhOK8Xt1jiw7rkUd0GQP0qjQgTcc9/MYxjhC2KgDGnkfgUeAzyGC0LphjCNkF3UgBDrI9agDmr51in0Hju9X1DDGEcJHHdD0rRK4u4fzIYLQumGMI2QXdUBLdJFAjeIOm0yIpHmdtsT49TpHs439jzrwekresbdr5yn+7nAaT4tHG5F4W8UQS44YJOoAgbxY2FbZ2djhYpngnnVBYjw2pq57LSMinpdRtYYl35LZ4bTJ8D23V40FxzNn2pktiitx6dW0rLXQz+cASdp1HefKQGMUvrdre9VoBzUTvlHpfN1XuxZcqzNv5Po/ZwYyj2Bi1vVuV1HSgiqpzQkdj2oBdu0rZYJtJf+qmE86LnelWJ6blI1mjr8cGHvhDu9t4nZNcFcFe5qN/+m/4FvicL+jGw/nr8oP4/rjwOU511fbxZK+76e4qRtsQosuxWq3FtnsTdk2UJ5x8rHr2tQilaoWq8OIZtF/mCjnx6SACy8nxN8z3gEvzo9O+KquJILxhWlZySOU12Z0xg3VnH7eAf0qup7o9yKdEKa9uoU1Rq7erRVTlLLOKq9QzI61tVXFsmoNMBNpEQMJz7ye9ko7xekYA6OGTivUpHbiC05XmPZ2RU5xe6hBLf6ndsJqZ8Ed9JmbYNZILWpS29+Geh7+3s8ybteaaXoH+Kq1SyjEa5reAb7nIcN2rZvmL6akPq7bpse/AAAAAElFTkSuQmCC"},713:function(t,e){},726:function(t,e){},804:function(t,e,n){function o(t){n(726)}var s=n(1)(n(346),n(895),o,"data-v-de5b2974",null);t.exports=s.exports},805:function(t,e,n){function o(t){n(713)}var s=n(1)(n(348),n(882),o,"data-v-8bcae302",null);t.exports=s.exports},806:function(t,e,n){function o(t){n(698)}var s=n(1)(n(349),n(869),o,null,null);t.exports=s.exports},807:function(t,e,n){function o(t){n(650)}var s=n(1)(n(350),n(825),o,"data-v-20565f41",null);t.exports=s.exports},825:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"form",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.toRegister(e):null}}},[o("div",{staticClass:"login-title"},[t._v("Welcome To Anywork   \t : )")]),t._v(" "),o("Mytip",{attrs:{content:"学号",info:t.nameInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"学号"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),o("Mytip",{attrs:{content:"邮箱",info:t.emailInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"邮箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),o("Mytip",{attrs:{content:"手机号码",info:t.phoneInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),o("Mytip",{attrs:{content:"密码",info:t.passwordInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),o("Mytip",{attrs:{content:"确认密码",info:t.rePasswordInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"确认密码"},model:{value:t.rePassword,callback:function(e){t.rePassword=e},expression:"rePassword"}})],1),t._v(" "),o("Row",{attrs:{gutter:10}},[o("Col",{attrs:{span:"12"}},[o("img",{staticClass:"barcode",attrs:{src:t.barcodeURL+"?"+t.refresh},on:{click:t.refreshBarcode}})]),t._v(" "),o("Col",{attrs:{span:"12"}},[o("Mytip",{attrs:{content:"验证码",info:t.barcodeInfo}},[o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"验证码"},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"button-contain"},[o("Button",{staticClass:"login-bt",on:{click:t.toLogin}},[t._v("前往登录")]),t._v(" "),o("Button",{staticClass:"login-bt register",attrs:{type:"primary",long:"",loading:t.loadStatu},on:{click:t.toRegister}},[t._v("注册")])],1)],1)])},staticRenderFns:[]}},843:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tip",on:{mouseenter:t.handleShowPopper,mouseleave:t.handleClosePopper,input:t.handleShowPopper}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.tipShow,expression:"tipShow"}],staticClass:"content"},[n("Icon",{attrs:{type:"arrow-left-b",color:"rgba(255, 255, 255, 0.75)"}}),n("span",[t._v(t._s(this.tipInfo))])],1)]),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},869:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.toLogin(e):null}}},[o("div",{staticClass:"login-title"},[t._v("Welcome To Anywork   \t : )")]),t._v(" "),o("Mytip",{attrs:{content:"学号",info:t.emailInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"学号",prefix:"ios-email-outline"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),o("Mytip",{attrs:{content:"密码",info:t.passwordInfo}},[o("img",{staticClass:"input-img",attrs:{src:n(71)}}),t._v(" "),o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"密码",prefix:"ios-locked-outline"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),o("Row",{attrs:{gutter:10}},[o("Col",{attrs:{span:"12"}},[o("img",{staticClass:"barcode",attrs:{src:t.barcodeURL+"?"+t.refresh},on:{click:t.refreshBarcode}})]),t._v(" "),o("Col",{attrs:{span:"12"}},[o("Mytip",{attrs:{content:"验证码",info:t.barcodeInfo}},[o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"验证码"},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"div-contain"},[o("Button",{staticClass:"login-bt register",attrs:{long:""},on:{click:t.toRegister}},[t._v("注册")]),t._v(" "),o("Button",{staticClass:"login-bt",attrs:{long:"",loading:t.loadStatu},on:{click:t.toLogin}},[t._v("登录")])],1),t._v(" "),o("div",{staticClass:"div-contain"},[o("a",{staticClass:"forget-psw",attrs:{href:"#"},on:{click:t.forgetPasswork}},[t._v("忘记密码")]),t._v(" "),o("Checkbox",{staticClass:"competence",model:{value:t.admin,callback:function(e){t.admin=e},expression:"admin"}},[o("Icon",{attrs:{type:"ios-person-outline"}}),t._v(" "),o("span",[t._v("教师端")])],1)],1)],1)},staticRenderFns:[]}},882:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("center",[n("div",{staticClass:"form",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.toLogin(e):null}}},[n("Mytip",{attrs:{content:"邮箱",info:t.emailInfo}},[n("Input",{staticClass:"input",attrs:{type:"text",placeholder:"邮箱",icon:"ios-email-outline"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),n("Button",{staticClass:"login-bt",attrs:{type:"primary",long:"",loading:t.loadStatu},on:{click:t.confirm}},[t._v("提交")]),t._v(" "),n("a",{staticClass:"register",attrs:{href:"#"},on:{click:t.toRegister}},[t._v("前往登录")])],1)])},staticRenderFns:[]}},895:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("img",{staticClass:"logo",attrs:{src:n(115)}}),t._v(" "),t.login?o("Login",{on:{"to-register":t.toggleRegister}}):t.register?o("Register",{on:{"to-login":t.toggleLogin}}):o("forgetpassword",{on:{"to-password":t.toggleLogin}})],1)},staticRenderFns:[]}},904:function(t,e,n){n(14),t.exports=n(247)},93:function(t,e,n){"use strict";var o=n(16);e.a=n.i(o.a)("user",{actions:["login","register","updateInfo","forgetPassword"],mutations:["setInfo"]})}},[904]);
//# sourceMappingURL=login.6733845253e0d73b4356.js.map